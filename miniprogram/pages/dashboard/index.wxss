/* ====== Header ====== */
.header-card {
  background: linear-gradient(135deg, var(--surface) 0%, var(--surface-alt) 100%);
  box-shadow: var(--card-shadow);
}

.header-title {
  font-size: 36rpx;
  font-weight: 800;
  color: var(--text-strong);
}

.header-meta {
  display: flex;
  align-items: center;
  margin-top: 8rpx;
}

.header-left {
  flex: 1;
}

.status-dot {
  width: 14rpx;
  height: 14rpx;
  border-radius: 50%;
  margin-right: 8rpx;
}

.status-dot.green { background: #4ade80; box-shadow: 0 0 8rpx #4ade80; }
.status-dot.orange { background: #fb923c; box-shadow: 0 0 8rpx #fb923c; }
.status-dot.blue { background: #6c8aff; box-shadow: 0 0 8rpx #6c8aff; }
.status-dot.gray { background: #8b8fa3; }

/* ====== 指数网格 ====== */
.idx-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12rpx;
  padding: 0 24rpx;
  margin-bottom: 24rpx;
}

.idx-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--surface) 0%, var(--surface-end) 100%);
  border: 1rpx solid var(--border-accent-light);
  border-radius: 14rpx;
  padding: 16rpx 8rpx;
  box-shadow: var(--card-shadow);
  /* 每行3个：(750 - 48padding - 24gap) / 3 ≈ 226rpx，用 calc 自适应 */
  width: calc((100% - 24rpx) / 3);
  box-sizing: border-box;
}

.idx-name {
  font-size: 22rpx;
  color: var(--text-sub);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.idx-price {
  font-size: 26rpx;
  font-weight: 700;
  color: var(--text-strong);
  margin: 4rpx 0;
  white-space: nowrap;
}

.idx-pct {
  font-size: 22rpx;
  font-weight: 600;
  white-space: nowrap;
}

/* ====== 大宗商品 ====== */
.comm-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10rpx;
}

.comm-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: var(--elevated);
  border: 1rpx solid var(--border-subtle);
  border-radius: 12rpx;
  padding: 12rpx 6rpx;
  width: calc((100% - 30rpx) / 4);
  box-sizing: border-box;
  position: relative;
}

.comm-item.comm-anomaly {
  border-color: rgba(251,146,60,0.4);
  background: rgba(251,146,60,0.06);
}

.comm-icon-row {
  display: flex;
  align-items: center;
  gap: 4rpx;
}

.comm-icon { font-size: 24rpx; }

.comm-name {
  font-size: 20rpx;
  color: var(--text-sub);
  font-weight: 600;
}

.comm-price {
  font-size: 22rpx;
  font-weight: 700;
  color: var(--text);
  margin: 2rpx 0;
  white-space: nowrap;
}

.comm-pct {
  font-size: 20rpx;
  font-weight: 600;
}

.comm-anomaly-tag {
  position: absolute;
  top: 4rpx;
  right: 4rpx;
  font-size: 16rpx;
  font-weight: 700;
  color: #fb923c;
  background: rgba(251,146,60,0.15);
  padding: 0 6rpx;
  border-radius: 4rpx;
}

/* ====== 实时热点异动 ====== */
.breaking-list {
  display: flex;
  flex-direction: column;
  gap: 12rpx;
}

.breaking-item {
  padding: 14rpx 16rpx;
  border-radius: 12rpx;
  background: var(--elevated);
  border-left: 5rpx solid transparent;
}

.breaking-item.geo { border-left-color: #f87171; background: rgba(248,113,113,0.04); }
.breaking-item.comm { border-left-color: #fb923c; background: rgba(251,146,60,0.04); }

.breaking-top {
  display: flex;
  align-items: center;
  gap: 8rpx;
}

.breaking-cat {
  font-size: 20rpx;
  font-weight: 600;
  flex-shrink: 0;
}

.breaking-title {
  font-size: 24rpx;
  font-weight: 700;
  color: var(--text);
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.chip.sm {
  font-size: 18rpx;
  padding: 0rpx 8rpx;
}

.breaking-reason {
  display: block;
  font-size: 22rpx;
  color: var(--text-body);
  margin-top: 6rpx;
  line-height: 1.5;
}

.breaking-bottom {
  display: flex;
  flex-wrap: wrap;
  gap: 10rpx;
  margin-top: 8rpx;
}

.breaking-pos {
  font-size: 20rpx;
  color: #f87171;
  font-weight: 600;
}

.breaking-neg {
  font-size: 20rpx;
  color: #4ade80;
  font-weight: 600;
}

.breaking-advice {
  display: block;
  font-size: 20rpx;
  color: #6c8aff;
  margin-top: 6rpx;
}

/* ====== 持仓 ====== */
.total-pct {
  font-size: 34rpx;
  font-weight: 800;
}

.holdings-grid {
  display: flex;
  flex-direction: column;
  gap: 12rpx;
}

.holding-card {
  background: var(--elevated);
  border: 1rpx solid var(--border-faint);
  border-radius: 14rpx;
  padding: 16rpx 18rpx;
}

.h-name {
  font-size: 26rpx;
  font-weight: 600;
  color: var(--text);
  max-width: 400rpx;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.h-pct {
  font-size: 28rpx;
  font-weight: 700;
}

/* ====== 行动指南 ====== */
.overview-bar {
  display: flex;
  gap: 16rpx;
  margin: 12rpx 0;
}

.ob-item {
  flex: 1;
  text-align: center;
  border-radius: 12rpx;
  padding: 14rpx 0;
}

.ob-item.red { background: rgba(239,68,68,0.1); }
.ob-item.green { background: rgba(34,197,94,0.1); }
.ob-item.gray { background: rgba(139,143,163,0.1); }

.ob-num {
  display: block;
  font-size: 36rpx;
  font-weight: 800;
  color: var(--text-strong);
}

.ob-label {
  font-size: 22rpx;
  color: var(--text-sub);
}

/* ===== 丰富基金分析卡片 ===== */
.ag-card {
  margin-top: 16rpx;
  padding: 20rpx;
  border-radius: 16rpx;
  background: var(--elevated);
  border: 1rpx solid var(--border-accent-light);
  transition: all .2s;
}

.ag-card.action-buy  { border-left: 6rpx solid #ef4444; }
.ag-card.action-sell { border-left: 6rpx solid #22c55e; }
.ag-card.action-hold { border-left: 6rpx solid #6c8aff; }

/* top row */
.ag-top {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
}

.ag-top-left { flex: 1; }

.ag-name {
  font-size: 28rpx;
  font-weight: 700;
  color: var(--text);
}

.ag-today-pct {
  font-size: 22rpx;
  font-weight: 600;
  margin-left: 8rpx;
}

.ag-top-right {
  display: flex;
  align-items: center;
  gap: 8rpx;
  flex-shrink: 0;
}

.ag-priority {
  font-size: 22rpx;
  color: var(--text-sub);
  font-weight: 600;
}

.ag-urgency {
  font-size: 20rpx;
  padding: 2rpx 10rpx;
  border-radius: 8rpx;
  font-weight: 600;
}

.ag-urgency-high { background: rgba(239,68,68,0.15); color: #ef4444; }
.ag-urgency-mid  { background: rgba(251,146,60,0.15); color: #fb923c; }
.ag-urgency-low  { background: rgba(139,143,163,0.15); color: #8b8fa3; }

.ag-action-badge {
  font-size: 22rpx;
  font-weight: 700;
  padding: 4rpx 14rpx;
  border-radius: 10rpx;
}

.ag-action-badge.action-buy  { background: rgba(239,68,68,0.18); color: #ef4444; }
.ag-action-badge.action-sell { background: rgba(34,197,94,0.18); color: #22c55e; }
.ag-action-badge.action-hold { background: rgba(108,138,255,0.18); color: #6c8aff; }

/* vote strip */
.ag-vote-strip {
  display: flex;
  flex-wrap: wrap;
  gap: 8rpx;
  margin-top: 12rpx;
  align-items: center;
}

.ag-vote-chip {
  display: flex;
  align-items: center;
  gap: 4rpx;
  background: var(--elevated-3);
  border-radius: 8rpx;
  padding: 4rpx 10rpx;
}

.ag-vote-label {
  font-size: 18rpx;
  color: var(--text-sub);
}

.ag-vote-val {
  font-size: 20rpx;
  font-weight: 700;
}

.ag-vote-val.vote-buy  { color: #ef4444; }
.ag-vote-val.vote-sell { color: #22c55e; }
.ag-vote-val.vote-hold { color: #6c8aff; }

.ag-consensus-chip {
  font-size: 20rpx;
  font-weight: 700;
  padding: 4rpx 12rpx;
  border-radius: 8rpx;
}

.ag-consensus-chip.consensus-buy  { background: rgba(239,68,68,0.15); color: #ef4444; }
.ag-consensus-chip.consensus-sell { background: rgba(34,197,94,0.15); color: #22c55e; }
.ag-consensus-chip.consensus-hold { background: rgba(108,138,255,0.15); color: #6c8aff; }

.ag-swing-chip {
  font-size: 20rpx;
  font-weight: 600;
  color: #fb923c;
  background: rgba(251,146,60,0.12);
  padding: 4rpx 12rpx;
  border-radius: 8rpx;
}

/* trend row */
.ag-trend-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8rpx;
  margin-top: 10rpx;
}

.ag-trend-tag {
  font-size: 20rpx;
  font-weight: 600;
  padding: 4rpx 10rpx;
  border-radius: 8rpx;
  background: var(--elevated-2);
}

.ag-ma-bull { color: #ef4444; background: rgba(239,68,68,0.1); }
.ag-ma-bear { color: #22c55e; background: rgba(34,197,94,0.1); }
.ag-ma-mix  { color: #fb923c; background: rgba(251,146,60,0.1); }

.ag-flow-in  { color: #ef4444; }
.ag-flow-out { color: #22c55e; }

/* metrics bar */
.ag-metrics {
  display: flex;
  flex-wrap: wrap;
  gap: 6rpx;
  margin-top: 10rpx;
}

.ag-metric {
  font-size: 18rpx;
  color: var(--text-sub);
  background: var(--elevated-2);
  padding: 2rpx 10rpx;
  border-radius: 6rpx;
}

/* risk row */
.ag-risk-row {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 10rpx;
  margin-top: 10rpx;
}

.ag-risk-badge {
  font-size: 20rpx;
  font-weight: 600;
  padding: 4rpx 12rpx;
  border-radius: 8rpx;
}

.ag-risk-badge.risk-high { background: rgba(239,68,68,0.15); color: #ef4444; }
.ag-risk-badge.risk-mid  { background: rgba(251,146,60,0.15); color: #fb923c; }
.ag-risk-badge.risk-low  { background: rgba(34,197,94,0.15); color: #22c55e; }

.ag-crowding {
  font-size: 18rpx;
  color: #fb923c;
  background: rgba(251,146,60,0.1);
  padding: 2rpx 10rpx;
  border-radius: 6rpx;
}

/* expand hint */
.ag-expand-hint {
  display: block;
  text-align: center;
  font-size: 20rpx;
  color: var(--accent);
  margin-top: 12rpx;
  padding: 6rpx 0;
}

/* ===== 展开详情面板 ===== */
.ag-detail {
  margin-top: 4rpx;
}

.ag-detail-divider {
  height: 1rpx;
  background: var(--border);
  margin: 12rpx 0;
}

/* 一句话诊断 */
.ag-tldr {
  display: flex;
  align-items: flex-start;
  gap: 8rpx;
  padding: 12rpx;
  background: var(--accent-subtle);
  border-radius: 12rpx;
  margin-bottom: 12rpx;
}

.ag-tldr-icon { font-size: 28rpx; flex-shrink: 0; }

.ag-tldr-text {
  font-size: 24rpx;
  color: var(--text-medium);
  line-height: 1.6;
}

/* 四维体检 */
.ag-checkup {
  display: flex;
  gap: 8rpx;
  margin-bottom: 12rpx;
}

.ag-checkup-item {
  flex: 1;
  text-align: center;
  background: var(--elevated-2);
  border-radius: 10rpx;
  padding: 10rpx 4rpx;
}

.ag-ck-label {
  display: block;
  font-size: 20rpx;
  color: var(--text-sub);
  margin-bottom: 4rpx;
}

.ag-ck-val {
  display: block;
  font-size: 22rpx;
  font-weight: 700;
  color: var(--text);
}

/* 原始数据 */
.ag-raw-data {
  display: flex;
  flex-wrap: wrap;
  gap: 8rpx;
  margin-bottom: 12rpx;
}

.ag-raw-item {
  font-size: 18rpx;
  color: var(--text-sub);
  background: var(--elevated-2);
  padding: 4rpx 10rpx;
  border-radius: 6rpx;
}

/* 行动方案 */
.ag-action-plan {
  background: var(--accent-bg-3);
  border-radius: 12rpx;
  padding: 12rpx;
  margin-bottom: 12rpx;
}

.ag-plan-row {
  display: flex;
  align-items: flex-start;
  gap: 8rpx;
  padding: 6rpx 0;
}

.ag-plan-label {
  font-size: 22rpx;
  color: var(--text-sub);
  flex-shrink: 0;
}

.ag-plan-val {
  font-size: 22rpx;
  color: var(--text-medium);
  line-height: 1.5;
}

/* 雷达柱状图 */
.ag-radar {
  display: flex;
  flex-direction: column;
  gap: 10rpx;
}

.ag-radar-item {
  display: flex;
  align-items: center;
  gap: 8rpx;
}

.ag-radar-label {
  font-size: 20rpx;
  color: var(--text-sub);
  width: 80rpx;
  flex-shrink: 0;
}

.ag-radar-bar {
  flex: 1;
  height: 16rpx;
  background: var(--elevated-4);
  border-radius: 8rpx;
  overflow: hidden;
}

.ag-radar-fill {
  height: 100%;
  background: linear-gradient(90deg, #6c8aff 0%, #a78bfa 100%);
  border-radius: 8rpx;
  transition: width 0.3s;
}

.ag-radar-num {
  font-size: 20rpx;
  color: var(--text-medium);
  width: 50rpx;
  text-align: right;
  font-weight: 600;
}

/* ===== 模型组合 ===== */
.model-section {
  margin: 12rpx 0;
}

.model-section-title {
  font-size: 24rpx;
  font-weight: 700;
  color: #6c8aff;
  margin-bottom: 10rpx;
  display: block;
}

.model-fund {
  padding: 10rpx 0;
  border-bottom: 1rpx solid var(--border-faint);
}

.model-fund:last-child { border-bottom: none; }

.model-name {
  font-size: 26rpx;
  font-weight: 600;
  color: var(--text);
}

.model-weight {
  font-size: 24rpx;
  font-weight: 700;
  color: #a78bfa;
}

/* ====== 板块热力 ====== */
.heat-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12rpx;
}

.heat-chip {
  border-radius: 10rpx;
  padding: 10rpx 16rpx;
  display: flex;
  align-items: center;
  gap: 8rpx;
}

.heat-tag {
  font-size: 22rpx;
  color: #fff;
  font-weight: 600;
}

.heat-val {
  font-size: 20rpx;
  color: rgba(255,255,255,0.7);
}

/* ====== 热点事件 ====== */
.event-item {
  border-top: 1rpx solid var(--border-subtle);
  padding: 16rpx 0;
}

.event-item:first-child {
  border-top: none;
}

.e-title {
  font-size: 26rpx;
  font-weight: 600;
  color: var(--text);
  max-width: 520rpx;
}

/* ====== Footer ====== */
.footer-info {
  text-align: center;
  padding: 20rpx 0 40rpx;
}

/* ====== AI 分析 ====== */
.sec-toggle {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.toggle-arrow {
  font-size: 22rpx;
  color: var(--text-muted);
}

.ai-summary-hint {
  padding: 0 24rpx 16rpx;
}

.ai-action-bar {
  display: flex;
  align-items: center;
  gap: 16rpx;
  padding: 8rpx 0 16rpx;
}

.ai-no-key {
  padding: 20rpx 0;
  text-align: center;
}

.ai-market-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12rpx 16rpx;
  background: var(--accent-subtle);
  border-radius: 12rpx;
  margin-bottom: 16rpx;
}

.ai-market-text {
  font-size: 26rpx;
  color: var(--text);
  flex: 1;
  margin-right: 12rpx;
}

.ai-risk-tag {
  font-size: 22rpx;
  padding: 4rpx 16rpx;
  border-radius: 20rpx;
  font-weight: 600;
  white-space: nowrap;
}

.ai-risk-high { background: rgba(239,68,68,0.15); color: #ef4444; }
.ai-risk-mid  { background: rgba(251,146,60,0.15); color: #fb923c; }
.ai-risk-low  { background: rgba(34,197,94,0.15); color: #22c55e; }

.ai-signal {
  border-top: 1rpx solid var(--border-subtle);
  padding: 14rpx 0;
}

.ai-signal:first-child {
  border-top: none;
}

.ai-sig-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.ai-sig-left {
  flex: 1;
}

.ai-sig-name {
  font-size: 28rpx;
  font-weight: 700;
  color: var(--text);
}

.ai-sig-badge {
  font-size: 22rpx;
  padding: 4rpx 16rpx;
  border-radius: 20rpx;
  font-weight: 600;
}

.ai-sig-buy  { background: rgba(52,211,153,0.2); color: #34d399; }
.ai-sig-sell { background: rgba(248,113,113,0.2); color: #f87171; }
.ai-sig-hold { background: rgba(251,191,36,0.2); color: #fbbf24; }

.ai-sig-bottom {
  margin-top: 8rpx;
}

.ai-sig-reason {
  font-size: 24rpx;
  color: var(--text-body);
  display: block;
}

.ai-sig-meta {
  margin-top: 4rpx;
}

.ai-overall {
  margin-top: 16rpx;
  padding: 16rpx;
  background: var(--accent-subtle);
  border-radius: 12rpx;
}

.ai-overall-label {
  font-size: 24rpx;
  font-weight: 600;
  color: var(--text-label);
  display: block;
  margin-bottom: 8rpx;
}

.ai-overall-text {
  font-size: 26rpx;
  color: var(--text);
  line-height: 1.6;
}

/* ====== AI 基金加减仓方案 ====== */
.ai-fund-plan {
  margin-top: 16rpx;
  padding: 16rpx;
  background: var(--accent-subtle);
  border-radius: 12rpx;
  border: 1rpx solid var(--border);
}

.ai-fund-plan-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12rpx;
}

.ai-fund-plan-title {
  font-size: 26rpx;
  font-weight: 700;
  color: var(--text-label);
}

.ai-fund-plan-badge {
  font-size: 22rpx;
  font-weight: 700;
  padding: 4rpx 16rpx;
  border-radius: 20rpx;
}

.ai-fp-buy  { background: rgba(52,211,153,0.2); color: #34d399; }
.ai-fp-sell { background: rgba(248,113,113,0.2); color: #f87171; }
.ai-fp-hold { background: rgba(251,191,36,0.2); color: #fbbf24; }

.ai-fp-compare {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16rpx;
  margin-bottom: 14rpx;
  padding: 12rpx;
  background: var(--elevated);
  border-radius: 10rpx;
}

.ai-fp-col {
  flex: 1;
  text-align: center;
}

.ai-fp-label {
  font-size: 20rpx;
  color: var(--text-muted);
  display: block;
}

.ai-fp-val {
  font-size: 26rpx;
  font-weight: 700;
  color: var(--text);
  display: block;
  margin-top: 4rpx;
}

.ai-fp-vs {
  font-size: 20rpx;
  color: var(--text-dim);
  font-weight: 700;
}

.ai-fp-detail {
  display: flex;
  flex-direction: column;
  gap: 8rpx;
}

.ai-fp-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
}

.ai-fp-key {
  font-size: 22rpx;
  color: var(--text-muted);
  white-space: nowrap;
  margin-right: 12rpx;
}

.ai-fp-value {
  font-size: 24rpx;
  color: var(--text);
  text-align: right;
  flex: 1;
}

.ai-fund-plan-empty {
  margin-top: 12rpx;
  padding: 16rpx;
  text-align: center;
  background: var(--accent-bg-3);
  border-radius: 10rpx;
}
